"use strict";const e=require("../../../common/vendor.js"),_=require("../../../common/assets.js"),x={__name:"index",setup(U){const b=["SV3.5","SV3","SV2","SV1","SS12_5","SS12","SS11","SS10_5","SS10","SS9","SS8","SS7_5","SS7","SS6","SS5"];let S=[],h=0,d=e.ref(null),f=e.ref([]),c=e.ref(""),o=e.ref(!1),n=e.ref(null),m=e.ref(null);e.onLoad(u=>{d.value=decodeURIComponent(u.searchinp),p();let a=e.index.getStorageSync("imgType");a=="en"?m.value=a:m.value=null});const p=async()=>{h=0,S=[],f.value=[],c.value="",e.index.showLoading({title:"加载中",mask:!0}),await q(),setTimeout(function(){e.index.hideLoading()},1500)},q=async()=>{const u=await Promise.resolve(require("./json/SV-series.js")),a=await Promise.resolve(require("./json/SS-series.js"));let i=u.default,t=a.default,r=[];for(let l of i)new RegExp(`[${l.name.replace(/ex|VSTAR|VMAX|V/ig,"")}]|${l.ename.replace(/ /g,"|")}`,"i").test(d.value)&&r.push({name:l.name,series:l.series});for(let l of t)new RegExp(`[${l.name.replace(/ex|VSTAR|VMAX|V/ig,"")}]|${l.ename.replace(/ /g,"|")}`,"i").test(d.value)&&r.push({name:l.name,series:l.series});r.length==0?f.value=[]:w(r)},w=u=>{var i;let a={};for(let t of u)a[t.series]||(a[t.series]=[]),a[t.series].push(t.name);for(let t of b)if(((i=a[t])==null?void 0:i.length)>0)switch(t){case"SV3.5":Promise.resolve(require("../seriesDet/json/SV3_5.js")).then(r=>{s(r.default,a[t])});break;case"SV3":Promise.resolve(require("../seriesDet/json/SV3.js")).then(r=>{s(r.default,a[t])});break;case"SV2":Promise.resolve(require("../seriesDet/json/SV2.js")).then(r=>{s(r.default,a[t])});break;case"SV1":Promise.resolve(require("../seriesDet/json/SV1.js")).then(r=>{s(r.default,a[t])});break;case"SS12_5":Promise.resolve(require("../seriesDet/json/SS12_5.js")).then(r=>{s(r.default,a[t])});break;case"SS12":Promise.resolve(require("../seriesDet/json/SS12.js")).then(r=>{s(r.default,a[t])});break;case"SS11":Promise.resolve(require("../seriesDet/json/SS11.js")).then(r=>{s(r.default,a[t])});break;case"SS10_5":Promise.resolve(require("../seriesDet/json/SS10_5.js")).then(r=>{s(r.default,a[t])});break;case"SS10":Promise.resolve(require("../seriesDet/json/SS10.js")).then(r=>{s(r.default,a[t])});break;case"SS9":Promise.resolve(require("../seriesDet/json/SS9.js")).then(r=>{s(r.default,a[t])});break;case"SS8":Promise.resolve(require("../seriesDet/json/SS8.js")).then(r=>{s(r.default,a[t])});break;case"SS7_5":Promise.resolve(require("../seriesDet/json/SS7_5.js")).then(r=>{s(r.default,a[t])});break;case"SS7":Promise.resolve(require("../seriesDet/json/SS7.js")).then(r=>{s(r.default,a[t])});break;case"SS6":Promise.resolve(require("../seriesDet/json/SS6.js")).then(r=>{s(r.default,a[t])});break;case"SS5":Promise.resolve(require("../seriesDet/json/SS5.js")).then(r=>{s(r.default,a[t])});break}},s=(u,a,i)=>{let t=u.filter(r=>a.includes(r.cardName));h+=t.length,S=[...S,...t],h==S.length&&(f.value=S)},P=()=>{if(c.value==""){e.index.showToast({title:"请输入卡名",icon:"none",duration:2e3});return}e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),d.value=c.value,p()},V=u=>{n.value=u,m.value==null?n.value.showImg=n.value.imgUrl:n.value.showImg=n.value.enImgUrl,o.value=!0},g=u=>{n.value.showImg=u};return(u,a)=>{var i,t;return e.e({a:`overflow: ${e.unref(o)==!0?"hidden":""}`,b:e.t(e.unref(f).length),c:e.unref(c),d:e.o(r=>e.isRef(c)?c.value=r.detail.value:c=r.detail.value),e:e.o(P),f:e.unref(f).length>0},e.unref(f).length>0?{g:e.f(e.unref(f),(r,l,v)=>e.e(e.unref(m)==null?{a:r.imgUrl}:{b:r.enImgUrl},{c:e.t(r.cardName),d:e.t(r.ename),e:r.id,f:e.o(k=>V(r),r.id)})),h:_._imports_0,i:e.unref(m)==null}:{j:_._imports_1},{k:e.unref(o)},e.unref(o)?e.e({l:e.unref(n).showImg,m:((i=e.unref(n).artList)==null?void 0:i.length)>0},((t=e.unref(n).artList)==null?void 0:t.length)>0?e.e({n:e.unref(m)==null},e.unref(m)==null?{o:e.unref(n).imgUrl,p:e.o(r=>g(e.unref(n).imgUrl))}:e.unref(n).enImgUrl?{t:e.unref(n).enImgUrl,v:e.o(r=>g(e.unref(n).enImgUrl))}:{r:e.unref(n).imgUrl,s:e.o(r=>g(e.unref(n).imgUrl))},{q:!e.unref(n).enImgUrl,w:e.f(e.unref(n).artList,(r,l,v)=>({a:r,b:e.o(k=>g(r),l),c:l}))}):{},{x:e.unref(n).artList?"":1,y:e.t(e.unref(n).cardName),z:!/^(基本).*?(能量)$/.test(e.unref(n).cardName)},/^(基本).*?(能量)$/.test(e.unref(n).cardName)?{}:{A:e.f(e.unref(n).skillList,(r,l,v)=>({a:e.t(r.name),b:/太晶/g.test(r.name)?1:"",c:/特性/g.test(r.name)?1:"",d:/规则/g.test(r.name)?1:"",e:/VSTAR力量/g.test(r.name)?1:"",f:e.t(r.effect==""?"-":r.effect),g:r.name}))},{B:e.o(r=>e.isRef(o)?o.value=!1:o=!1),C:e.unref(o)?1:""}):{})}}},I=e._export_sfc(x,[["__scopeId","data-v-85f2d670"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackages/pages/search/index.vue"]]);wx.createPage(I);
