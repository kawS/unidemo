"use strict";const e=require("../../../common/vendor.js"),b=require("../../../common/assets.js"),I={__name:"index",setup($){const q=["SV3.5","SV3","SV2","SV1","SS12_5","SS12","SS11","SS10_5","SS10","SS9","SS8","SS7_5","SS7","SS6","SS5"];let S=[],p=0,h=0,d=e.ref(null),c=e.ref([]),m=e.ref(""),o=e.ref(!1),n=e.ref(null),f=e.ref(null);e.onLoad(u=>{d.value=decodeURIComponent(u.searchinp),_();let a=e.index.getStorageSync("imgType");a=="en"?f.value=a:f.value=null});const _=async()=>{S=[],e.index.showLoading({title:"加载中",mask:!0}),await w(),setTimeout(function(){e.index.hideLoading()},1500)},w=async()=>{const u=await Promise.resolve(require("./json/SV-series.js")),a=await Promise.resolve(require("./json/SS-series.js"));let i=u.default,t=a.default,r=[];for(let l of i)new RegExp(`[${l.name.replace(/VSTAR|VMAX|V|ex/ig,"")}]|${l.ename.replace(/ /g,"|")}`,"i").test(d.value)&&(r.push({name:l.name,series:l.series}),h+=1);for(let l of t)new RegExp(`[${l.name.replace(/VSTAR|VMAX|V|ex/ig,"")}]|${l.ename.replace(/ /g,"|")}`,"i").test(d.value)&&(r.push({name:l.name,series:l.series}),h+=1);r.length==0?c.value=[]:P(r)},P=u=>{var i;let a={};for(let t of u)a[t.series]||(a[t.series]=[]),a[t.series].push(t.name);for(let t of q)if(((i=a[t])==null?void 0:i.length)>0)switch(t){case"SV3.5":Promise.resolve(require("../seriesDet/json/SV3_5.js")).then(r=>{s(r.default,a[t])});break;case"SV3":Promise.resolve(require("../seriesDet/json/SV3.js")).then(r=>{s(r.default,a[t])});break;case"SV2":Promise.resolve(require("../seriesDet/json/SV2.js")).then(r=>{s(r.default,a[t])});break;case"SV1":Promise.resolve(require("../seriesDet/json/SV1.js")).then(r=>{s(r.default,a[t])});break;case"SS12_5":Promise.resolve(require("../seriesDet/json/SS12_5.js")).then(r=>{s(r.default,a[t])});break;case"SS12":Promise.resolve(require("../seriesDet/json/SS12.js")).then(r=>{s(r.default,a[t])});break;case"SS11":Promise.resolve(require("../seriesDet/json/SS11.js")).then(r=>{s(r.default,a[t])});break;case"SS10_5":Promise.resolve(require("../seriesDet/json/SS10_5.js")).then(r=>{s(r.default,a[t])});break;case"SS10":Promise.resolve(require("../seriesDet/json/SS10.js")).then(r=>{s(r.default,a[t])});break;case"SS9":Promise.resolve(require("../seriesDet/json/SS9.js")).then(r=>{s(r.default,a[t])});break;case"SS8":Promise.resolve(require("../seriesDet/json/SS8.js")).then(r=>{s(r.default,a[t])});break;case"SS7_5":Promise.resolve(require("../seriesDet/json/SS7_5.js")).then(r=>{s(r.default,a[t])});break;case"SS7":Promise.resolve(require("../seriesDet/json/SS7.js")).then(r=>{s(r.default,a[t])});break;case"SS6":Promise.resolve(require("../seriesDet/json/SS6.js")).then(r=>{s(r.default,a[t])});break;case"SS5":Promise.resolve(require("../seriesDet/json/SS5.js")).then(r=>{s(r.default,a[t])});break}},s=(u,a,i)=>{let t=u.filter(r=>a.includes(r.cardName));p+=t.length,S=[...S,...t],p==h&&(c.value=S)},V=()=>{if(m.value==""){e.index.showToast({title:"请输入卡名",icon:"none",duration:2e3});return}e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),d.value=m.value,_()},k=u=>{n.value=u,f.value==null?n.value.showImg=n.value.imgUrl:n.value.showImg=n.value.enImgUrl,o.value=!0},g=u=>{n.value.showImg=u};return(u,a)=>{var i,t;return e.e({a:`overflow: ${e.unref(o)==!0?"hidden":""}`,b:e.t(e.unref(c).length),c:e.unref(m),d:e.o(r=>e.isRef(m)?m.value=r.detail.value:m=r.detail.value),e:e.o(V),f:e.unref(c).length>0},e.unref(c).length>0?{g:e.f(e.unref(c),(r,l,v)=>e.e(e.unref(f)==null?{a:r.imgUrl}:{b:r.enImgUrl},{c:e.t(r.cardName),d:e.t(r.ename),e:r.id,f:e.o(x=>k(r),r.id)})),h:b._imports_0,i:e.unref(f)==null}:{j:b._imports_1},{k:e.unref(o)},e.unref(o)?e.e({l:e.unref(n).showImg,m:((i=e.unref(n).artList)==null?void 0:i.length)>0},((t=e.unref(n).artList)==null?void 0:t.length)>0?e.e({n:e.unref(f)==null},e.unref(f)==null?{o:e.unref(n).imgUrl,p:e.o(r=>g(e.unref(n).imgUrl))}:e.unref(n).enImgUrl?{t:e.unref(n).enImgUrl,v:e.o(r=>g(e.unref(n).enImgUrl))}:{r:e.unref(n).imgUrl,s:e.o(r=>g(e.unref(n).imgUrl))},{q:!e.unref(n).enImgUrl,w:e.f(e.unref(n).artList,(r,l,v)=>({a:r,b:e.o(x=>g(r),l),c:l}))}):{},{x:e.unref(n).artList?"":1,y:e.t(e.unref(n).cardName),z:!/^(基本).*?(能量)$/.test(e.unref(n).cardName)},/^(基本).*?(能量)$/.test(e.unref(n).cardName)?{}:{A:e.f(e.unref(n).skillList,(r,l,v)=>({a:e.t(r.name),b:/太晶/g.test(r.name)?1:"",c:/特性/g.test(r.name)?1:"",d:/规则/g.test(r.name)?1:"",e:/VSTAR力量/g.test(r.name)?1:"",f:e.t(r.effect==""?"-":r.effect),g:r.name}))},{B:e.o(r=>e.isRef(o)?o.value=!1:o=!1),C:e.unref(o)?1:""}):{})}}},U=e._export_sfc(I,[["__scopeId","data-v-85f2d670"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackages/pages/search/index.vue"]]);wx.createPage(U);
