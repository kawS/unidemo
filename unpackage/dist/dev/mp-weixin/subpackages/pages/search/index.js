"use strict";const e=require("../../../common/vendor.js"),p=require("../../../common/assets.js"),I={__name:"index",setup(x){const w=["SV3.5","SV3","SV2","SV1","SS12_5","SS12","SS11","SS10_5","SS10","SS9","SS8","SS7_5","SS7","SS6","SS5"];let S=[],h=0,d=e.ref(null),f=e.ref([]),c=e.ref(""),o=e.ref(!1),s=e.ref(null),m=e.ref(null);e.onLoad(u=>{d.value=decodeURIComponent(u.searchinp),_();let t=e.index.getStorageSync("imgType");t=="en"?m.value=t:m.value=null});const _=async()=>{h=0,S=[],f.value=[],c.value="",e.index.showLoading({title:"加载中",mask:!0}),await b(),setTimeout(function(){e.index.hideLoading()},1500)},b=async()=>{const u=await Promise.resolve(require("./json/SV-series.js")),t=await Promise.resolve(require("./json/SS-series.js"));let i=u.default,a=t.default,r=[];for(let l of i)`${l.name} ${l.ename.toLocaleLowerCase()}`.search(d.value.toLocaleLowerCase())!=-1&&r.push({name:l.name,series:l.series});for(let l of a)`${l.name} ${l.ename.toLocaleLowerCase()}`.search(d.value.toLocaleLowerCase())!=-1&&r.push({name:l.name,series:l.series});r.length==0?f.value=[]:q(r)},q=u=>{var i;let t={};for(let a of u)t[a.series]||(t[a.series]=[]),t[a.series].push(a.name);for(let a of w)if(((i=t[a])==null?void 0:i.length)>0)switch(a){case"SV3.5":Promise.resolve(require("../seriesDet/json/SV3_5.js")).then(r=>{n(r.default,t[a])});break;case"SV3":Promise.resolve(require("../seriesDet/json/SV3.js")).then(r=>{n(r.default,t[a])});break;case"SV2":Promise.resolve(require("../seriesDet/json/SV2.js")).then(r=>{n(r.default,t[a])});break;case"SV1":Promise.resolve(require("../seriesDet/json/SV1.js")).then(r=>{n(r.default,t[a])});break;case"SS12_5":Promise.resolve(require("../seriesDet/json/SS12_5.js")).then(r=>{n(r.default,t[a])});break;case"SS12":Promise.resolve(require("../seriesDet/json/SS12.js")).then(r=>{n(r.default,t[a])});break;case"SS11":Promise.resolve(require("../seriesDet/json/SS11.js")).then(r=>{n(r.default,t[a])});break;case"SS10_5":Promise.resolve(require("../seriesDet/json/SS10_5.js")).then(r=>{n(r.default,t[a])});break;case"SS10":Promise.resolve(require("../seriesDet/json/SS10.js")).then(r=>{n(r.default,t[a])});break;case"SS9":Promise.resolve(require("../seriesDet/json/SS9.js")).then(r=>{n(r.default,t[a])});break;case"SS8":Promise.resolve(require("../seriesDet/json/SS8.js")).then(r=>{n(r.default,t[a])});break;case"SS7_5":Promise.resolve(require("../seriesDet/json/SS7_5.js")).then(r=>{n(r.default,t[a])});break;case"SS7":Promise.resolve(require("../seriesDet/json/SS7.js")).then(r=>{n(r.default,t[a])});break;case"SS6":Promise.resolve(require("../seriesDet/json/SS6.js")).then(r=>{n(r.default,t[a])});break;case"SS5":Promise.resolve(require("../seriesDet/json/SS5.js")).then(r=>{n(r.default,t[a])});break}},n=(u,t,i)=>{let a=u.filter(r=>t.includes(r.cardName));h+=a.length,S=[...S,...a],h==S.length&&(f.value=S)},P=()=>{if(c.value==""){e.index.showToast({title:"请输入卡名",icon:"none",duration:2e3});return}e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),d.value=c.value,_()},L=u=>{s.value=u,m.value==null?s.value.showImg=s.value.imgUrl:s.value.showImg=s.value.enImgUrl,o.value=!0},v=u=>{s.value.showImg=u};return(u,t)=>{var i,a;return e.e({a:`overflow: ${e.unref(o)==!0?"hidden":""}`,b:e.t(e.unref(f).length),c:e.unref(c),d:e.o(r=>e.isRef(c)?c.value=r.detail.value:c=r.detail.value),e:e.o(P),f:e.unref(f).length>0},e.unref(f).length>0?{g:e.f(e.unref(f),(r,l,g)=>e.e(e.unref(m)==null?{a:r.imgUrl}:{b:r.enImgUrl},{c:e.t(r.series),d:e.t(r.cardName),e:e.t(r.ename),f:r.id,g:e.o(k=>L(r),r.id)})),h:p._imports_0,i:e.unref(m)==null}:{j:p._imports_1},{k:e.unref(o)},e.unref(o)?e.e({l:e.unref(s).showImg,m:((i=e.unref(s).artList)==null?void 0:i.length)>0},((a=e.unref(s).artList)==null?void 0:a.length)>0?e.e({n:e.unref(m)==null},e.unref(m)==null?{o:e.unref(s).imgUrl,p:e.o(r=>v(e.unref(s).imgUrl))}:e.unref(s).enImgUrl?{t:e.unref(s).enImgUrl,v:e.o(r=>v(e.unref(s).enImgUrl))}:{r:e.unref(s).imgUrl,s:e.o(r=>v(e.unref(s).imgUrl))},{q:!e.unref(s).enImgUrl,w:e.f(e.unref(s).artList,(r,l,g)=>({a:r,b:e.o(k=>v(r),l),c:l}))}):{},{x:e.unref(s).artList?"":1,y:e.t(e.unref(s).cardName),z:!/^(基本).*?(能量)$/.test(e.unref(s).cardName)},/^(基本).*?(能量)$/.test(e.unref(s).cardName)?{}:{A:e.f(e.unref(s).skillList,(r,l,g)=>({a:e.t(r.name),b:/太晶/g.test(r.name)?1:"",c:/特性/g.test(r.name)?1:"",d:/规则/g.test(r.name)?1:"",e:/VSTAR力量/g.test(r.name)?1:"",f:e.t(r.effect==""?"-":r.effect),g:r.name}))},{B:e.o(r=>e.isRef(o)?o.value=!1:o=!1),C:e.unref(o)?1:""}):{})}}},U=e._export_sfc(I,[["__scopeId","data-v-85f2d670"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackages/pages/search/index.vue"]]);wx.createPage(U);
