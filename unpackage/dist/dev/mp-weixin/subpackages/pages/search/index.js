"use strict";const e=require("../../../common/vendor.js"),_=require("../../../common/assets.js"),L={__name:"index",setup(I){const p=["SV3.5","SV3","SV2","SV1","SS12_5","SS12","SS11","SS10_5","SS10","SS9","SS8","SS7_5","SS7","SS6","SS5"];let S=[],d=0,m=e.ref(null),f=e.ref([]),c=e.ref(""),i=e.ref(!1),n=e.ref(null);e.onLoad(u=>{m.value=decodeURIComponent(u.searchinp),v()});const v=async()=>{d=0,S=[],f.value=[],c.value="",e.index.showLoading({title:"加载中",mask:!0}),await b(),setTimeout(function(){e.index.hideLoading()},1500)},b=async()=>{const u=await Promise.resolve(require("./json/SV-series.js")),s=await Promise.resolve(require("./json/SS-series.js"));let a=u.default,t=s.default,r=[];for(let l of a)`${l.name} ${l.ename.toLocaleLowerCase()}`.search(m.value.toLocaleLowerCase())!=-1&&r.push({name:l.name,series:l.series});for(let l of t)`${l.name} ${l.ename.toLocaleLowerCase()}`.search(m.value.toLocaleLowerCase())!=-1&&r.push({name:l.name,series:l.series});r.length==0?f.value=[]:q(r)},q=u=>{var a;let s={};for(let t of u)s[t.series]||(s[t.series]=[]),s[t.series].push(t.name);for(let t of p)if(((a=s[t])==null?void 0:a.length)>0)switch(t){case"SV3.5":Promise.resolve(require("../seriesDet/json/SV3_5.js")).then(r=>{o(r.default,s[t])});break;case"SV3":Promise.resolve(require("../seriesDet/json/SV3.js")).then(r=>{o(r.default,s[t])});break;case"SV2":Promise.resolve(require("../seriesDet/json/SV2.js")).then(r=>{o(r.default,s[t])});break;case"SV1":Promise.resolve(require("../seriesDet/json/SV1.js")).then(r=>{o(r.default,s[t])});break;case"SS12_5":Promise.resolve(require("../seriesDet/json/SS12_5.js")).then(r=>{o(r.default,s[t])});break;case"SS12":Promise.resolve(require("../seriesDet/json/SS12.js")).then(r=>{o(r.default,s[t])});break;case"SS11":Promise.resolve(require("../seriesDet/json/SS11.js")).then(r=>{o(r.default,s[t])});break;case"SS10_5":Promise.resolve(require("../seriesDet/json/SS10_5.js")).then(r=>{o(r.default,s[t])});break;case"SS10":Promise.resolve(require("../seriesDet/json/SS10.js")).then(r=>{o(r.default,s[t])});break;case"SS9":Promise.resolve(require("../seriesDet/json/SS9.js")).then(r=>{o(r.default,s[t])});break;case"SS8":Promise.resolve(require("../seriesDet/json/SS8.js")).then(r=>{o(r.default,s[t])});break;case"SS7_5":Promise.resolve(require("../seriesDet/json/SS7_5.js")).then(r=>{o(r.default,s[t])});break;case"SS7":Promise.resolve(require("../seriesDet/json/SS7.js")).then(r=>{o(r.default,s[t])});break;case"SS6":Promise.resolve(require("../seriesDet/json/SS6.js")).then(r=>{o(r.default,s[t])});break;case"SS5":Promise.resolve(require("../seriesDet/json/SS5.js")).then(r=>{o(r.default,s[t])});break}},o=(u,s,a)=>{let t=u.filter(r=>s.includes(r.cardName));d+=t.length,S=[...S,...t],d==S.length&&(f.value=S)},w=()=>{if(c.value==""){e.index.showToast({title:"请输入卡名",icon:"none",duration:2e3});return}e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),m.value=c.value,v()},P=u=>{n.value=u,n.value.showImg=n.value.imgUrl,i.value=!0},h=u=>{n.value.showImg=u};return(u,s)=>e.e({a:`overflow: ${e.unref(i)==!0?"hidden":""}`,b:e.t(e.unref(f).length),c:e.unref(c),d:e.o(a=>e.isRef(c)?c.value=a.detail.value:c=a.detail.value),e:e.o(w),f:e.unref(f).length>0},e.unref(f).length>0?{g:e.f(e.unref(f),(a,t,r)=>{var l;return{a:a.imgUrl,b:e.t(a.series),c:e.t(((l=a==null?void 0:a.artList)==null?void 0:l.length)>0?`|${a.artList.length}`:""),d:e.t(a.cardName),e:e.t(a.ename),f:a.id,g:e.o(g=>P(a),a.id)}}),h:_._imports_0}:{i:_._imports_1},{j:e.unref(i)},e.unref(i)?e.e({k:e.unref(n).showImg,l:e.unref(n).enImgUrl},e.unref(n).enImgUrl?{m:e.unref(n).imgUrl,n:e.o(a=>h(e.unref(n).imgUrl)),o:e.unref(n).enImgUrl,p:e.o(a=>h(e.unref(n).enImgUrl)),q:e.f(e.unref(n).artList,(a,t,r)=>({a,b:e.o(l=>h(a),t),c:t}))}:{},{r:e.unref(n).artList?"":1,s:e.t(e.unref(n).cardName),t:e.t(e.unref(n).ename),v:!/^(基本).*?(能量)$/.test(e.unref(n).cardName)},/^(基本).*?(能量)$/.test(e.unref(n).cardName)?{}:{w:e.f(e.unref(n).skillList,(a,t,r)=>({a:e.t(a.name),b:/太晶/g.test(a.name)?1:"",c:/特性/g.test(a.name)?1:"",d:/规则/g.test(a.name)?1:"",e:/VSTAR力量/g.test(a.name)?1:"",f:e.t(a.effect==""?"-":a.effect),g:a.name}))},{x:e.o(a=>e.isRef(i)?i.value=!1:i=!1),y:e.unref(i)?1:""}):{})}},k=e._export_sfc(L,[["__scopeId","data-v-85f2d670"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackages/pages/search/index.vue"]]);wx.createPage(k);
