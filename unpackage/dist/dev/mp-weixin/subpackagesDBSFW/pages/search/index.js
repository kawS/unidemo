"use strict";const e=require("../../../common/vendor.js"),v=require("../../js/untils.js");Math||(b+$)();const b=()=>"../components/emptyList/index.js",$=()=>"../components/copyright/index.js",R={__name:"index",setup(C){let l=[],w=0,S=e.ref(null),f=e.ref([]),c=e.ref(""),o=e.ref(!1),n=e.ref(null);e.onLoad(s=>{S.value=decodeURIComponent(s.searchinp),p()});const p=async()=>{w=0,l=[],f.value=[],c.value="",e.index.showLoading({title:"加载中",mask:!0}),await _(),setTimeout(function(){e.index.hideLoading()},1500)},_=async()=>{let i=(await Promise.resolve(require("./json/series.js"))).default,r=[];for(let t of i)`${t.name.toLowerCase()}`.search(S.value.toLowerCase())!=-1&&r.push({name:t.name,series:t.series});r.length==0?f.value=[]:y(r)},y=s=>{var r;let i={};for(let t of s)i[t.series]||(i[t.series]=[]),i[t.series].push(t.name);for(let t of v.seriesList)((r=i[t])==null?void 0:r.length)>0&&v.returnDetList(t,function(u){L(u,i[t])})},L=(s,i,r)=>{let t=s.filter(u=>i.includes(u.name[0]));w+=t.length,l=[...l,...t],w==l.length&&(f.value=l)},x=()=>{if(c.value==""){e.index.showToast({title:"请输入英文卡名",icon:"none",duration:2e3});return}e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),S.value=c.value,p()},D=s=>{let i=JSON.parse(JSON.stringify(s));n.value=i,o.value=!0},d=s=>{s.isSwitch=="1"?s.isSwitch="2":s.isSwitch="1"};return(s,i)=>e.e({a:`overflow: ${e.unref(o)==!0?"hidden":""}`,b:e.t(e.unref(f).length),c:e.unref(c),d:e.o(r=>e.isRef(c)?c.value=r.detail.value:c=r.detail.value),e:e.o(x),f:e.unref(f).length>0},e.unref(f).length>0?{g:e.f(e.unref(f),(r,t,u)=>e.e({a:r.isShow=="1"},r.isShow=="1"?e.e({b:r.isSwitch!="-1"},r.isSwitch!="-1"?e.e({c:r.isSwitch=="1"},r.isSwitch=="1"?{d:e.f(r.effect[0],(a,h,g)=>({a,b:h}))}:{e:e.f(r.effect[1],(a,h,g)=>({a,b:h}))}):{f:e.f(r.effect[0],(a,h,g)=>({a,b:h}))},{g:r.isSwitch!="-1"},r.isSwitch!="-1"?{h:r.img[0],i:r.img[1]}:{j:r.img[0]},{k:r.isSwitch=="2"?1:"",l:e.t(r.type),m:r.color=="Red"?1:"",n:r.color=="Blue"?1:"",o:r.color=="Green"?1:"",p:r.color=="Yellow"?1:"",q:e.t(r.series),r:e.o(a=>D(r),`${r.no}-${t}`),s:r.isSwitch!="-1"},r.isSwitch!="-1"?e.e({t:r.isSwitch=="1"},r.isSwitch=="1"?{v:e.t(r.name[0])}:{w:e.t(r.name[1])}):{x:e.t(r.name[0])},{y:r.isSwitch!="-1"},r.isSwitch!="-1"?{z:e.t(r.isSwitch=="1"?"反":"正"),A:e.o(a=>d(r),`${r.no}-${t}`)}:{}):{},{B:`${r.no}-${t}`}))}:{},{h:e.unref(o)},e.unref(o)?e.e({i:e.unref(n).isSwitch!="-1"},e.unref(n).isSwitch!="-1"?{j:e.unref(n).img[0],k:e.unref(n).img[1]}:{l:e.unref(n).img[0]},{m:e.unref(n).isSwitch=="2"?1:"",n:e.unref(n).isSwitch!="-1"},e.unref(n).isSwitch!="-1"?{o:e.t(e.unref(n).isSwitch=="1"?"反":"正"),p:e.o(r=>d(e.unref(n)))}:{},{q:e.unref(n).isSwitch!="-1"},e.unref(n).isSwitch!="-1"?e.e({r:e.unref(n).isSwitch=="1"},e.unref(n).isSwitch=="1"?{s:e.t(e.unref(n).name[0])}:{t:e.t(e.unref(n).name[0])}):{v:e.t(e.unref(n).name[0])},{w:e.unref(n).isSwitch!="-1"},e.unref(n).isSwitch!="-1"?e.e({x:e.unref(n).isSwitch=="1"},e.unref(n).isSwitch=="1"?{y:e.f(e.unref(n).effect[0],(r,t,u)=>({a:r,b:t}))}:{z:e.f(e.unref(n).effect[1],(r,t,u)=>({a:r,b:t}))}):{A:e.f(e.unref(n).effect[0],(r,t,u)=>({a:r,b:t}))},{B:e.t(e.unref(n).type),C:e.t(e.unref(n).color),D:e.unref(n).color=="Red"?1:"",E:e.unref(n).color=="Blue"?1:"",F:e.unref(n).color=="Green"?1:"",G:e.unref(n).color=="Yellow"?1:"",H:e.t(e.unref(n).cost),I:e.unref(n).type=="LEADER"},e.unref(n).type=="LEADER"?{}:{J:e.t(e.unref(n).specifiedCost),K:e.unref(n).color=="Red"?1:"",L:e.unref(n).color=="Blue"?1:"",M:e.unref(n).color=="Green"?1:"",N:e.unref(n).color=="Yellow"?1:""},{O:e.unref(n).isSwitch!="-1"},e.unref(n).isSwitch!="-1"?e.e({P:e.unref(n).isSwitch=="1"},e.unref(n).isSwitch=="1"?{Q:e.t(e.unref(n).power[0])}:{R:e.t(e.unref(n).power[1])}):{S:e.t(e.unref(n).power[0])},{T:e.t(e.unref(n).comboPower),U:e.t(e.unref(n).features),V:e.o(r=>{e.isRef(o)?o.value=!1:o=!1,e.unref(n).showF="1"}),W:e.unref(o)?1:""}):{})}},k=e._export_sfc(R,[["__scopeId","data-v-37e344fc"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackagesDBSFW/pages/search/index.vue"]]);wx.createPage(k);
