"use strict";const e=require("../../../common/vendor.js"),I=require("../../../common/assets.js"),R=require("../../untils/seriesList.js"),N=require("../../untils/returnCHN.js");Math||(D+H)();const D=()=>"../../../components/emptyList/index.js",H=()=>"../../../components/copyright/index.js",q={__name:"index",setup(j){const y=N.returnPMType("all");let d=e.ref(!0),T=e.ref(null),$=e.ref(null),x=e.ref(null),f=e.ref([]),m=e.ref([]),w=e.ref([]),A=e.ref([]),b=e.ref([]),s=e.ref("All"),l=e.ref(!1),c=e.ref(null),g=e.ref(!1),r=e.ref(null);e.onLoad(n=>{T.value=n.no,$.value=decodeURIComponent(n.sname),x.value=n.code,R.returnSerDetList(T.value,function(a){P(a)},function(){d.value=!1})});const P=n=>{e.index.showLoading({title:"加载中",mask:!0}),f.value=n.default,m.value=n.default,w.value=n.default.filter(a=>a.type=="Pokemon"),A.value=n.default.filter(a=>a.type=="Trainers"),b.value=n.default.filter(a=>a.type=="Energy"),d.value=!1,setTimeout(function(){e.index.hideLoading()},1e3)},p=(n=1e3)=>{e.index.showLoading({title:"加载中",mask:!0}),setTimeout(function(){e.index.hideLoading()},n)},h=n=>{switch(e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),p(),s.value=n,n){case"All":f.value=m.value;break;case"Pokemon":f.value=w.value;break;case"Trainers":f.value=A.value;break;case"Energy":f.value=b.value;break}},E=()=>{if(s.value=="Energy"){e.index.showToast({title:"暂无过滤选项",icon:"none",duration:2e3});return}l.value=!0},S=n=>{e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),p(),c.value=n,f.value=m.value.filter(a=>a.typeEnergy==n),s.value="Pokemon",l.value=!1},L=n=>{e.index.pageScrollTo&&e.index.pageScrollTo({scrollTop:0}),p(),c.value=n,f.value=m.value.filter(a=>{var o,i,v;const t=new RegExp(`[${n}]`,"g");return a.type=="Trainers"&&(t.test((o=a.skillList[2])==null?void 0:o.name)||t.test((i=a.skillList[1])==null?void 0:i.name)||t.test((v=a.skillList[0])==null?void 0:v.name))}),s.value="Trainers",l.value=!1},U=()=>{p(),c.value="",f.value=m.value,s.value="All",l.value=!1},C=n=>{n.skillRule=n.skillList.filter(a=>/太晶/g.test(a.name)||/规则/g.test(a.name)||/ACE /g.test(a.name)),r.value=n,r.value.showImg=r.value.imgUrl,g.value=!0},_=n=>{r.value.showImg=n};return(n,a)=>e.e({a:`overflow: ${e.unref(g)==!0?"hidden":""}`,b:e.t(e.unref($)),c:e.t(e.unref(T)),d:e.t(e.unref(x)),e:e.t(e.unref(f).length),f:e.o(E),g:e.unref(s)=="All"?1:"",h:e.o(t=>h("All")),i:e.unref(s)=="Pokemon"?1:"",j:e.o(t=>h("Pokemon")),k:e.unref(s)=="Trainers"?1:"",l:e.o(t=>h("Trainers")),m:e.unref(s)=="Energy"?1:"",n:e.o(t=>h("Energy")),o:e.f(e.unref(f),(t,o,i)=>{var v;return e.e({a:!/^(基本).*?(能量)$/.test(t.cardName)},/^(基本).*?(能量)$/.test(t.cardName)?{}:{b:e.f(t.skillList,(u,F,V)=>e.e({a:!/太晶/g.test(u.name)&&!/规则/g.test(u.name)&&!/ACE /g.test(u.name)},!/太晶/g.test(u.name)&&!/规则/g.test(u.name)&&!/ACE /g.test(u.name)?{b:e.t(u.name),c:/太晶/g.test(u.name)?1:"",d:/特性/g.test(u.name)?1:"",e:/规则/g.test(u.name)?1:"",f:/VSTAR力量/g.test(u.name)?1:"",g:e.t(u.effect==""?"-":u.effect)}:{},{h:u.name}))},{c:t.imgUrl,d:e.t(t.series),e:e.t(((v=t==null?void 0:t.artList)==null?void 0:v.length)>0?`|${t.artList.length}`:""),f:e.t(t.cardName),g:e.t(t.ename),h:e.o(u=>C(t),t.id),i:t.id})}),p:I._imports_0$1,q:!e.unref(d)&&e.unref(f).length==0},!e.unref(d)&&e.unref(f).length==0?{}:{},{r:e.f(e.unref(y),(t,o,i)=>({a:t.imgUrl,b:e.unref(c)==t.ename?1:"",c:e.o(v=>S(t.ename),t.value),d:t.value})),s:e.unref(s)=="All"||e.unref(s)=="Pokemon",t:e.unref(c)=="竞技场"?1:"",v:e.o(t=>L("竞技场")),w:e.unref(c)=="支援者"?1:"",x:e.o(t=>L("支援者")),y:e.unref(c)=="宝可梦道具"?1:"",z:e.o(t=>L("宝可梦道具")),A:e.unref(c)=="物品"?1:"",B:e.o(t=>L("物品")),C:e.unref(s)=="All"||e.unref(s)=="Trainers",D:e.o(U),E:e.o(t=>e.isRef(l)?l.value=!1:l=!1),F:e.unref(l),G:e.unref(g)},e.unref(g)?e.e({H:e.unref(r).showImg,I:e.unref(r).enImgUrl&&!e.unref(r).isHide},e.unref(r).enImgUrl&&!e.unref(r).isHide?e.e({J:e.unref(r).imgUrl,K:e.o(t=>_(e.unref(r).imgUrl)),L:e.unref(r).isHide!=!0},e.unref(r).isHide!=!0?{M:e.unref(r).enImgUrl,N:e.o(t=>_(e.unref(r).enImgUrl))}:{},{O:e.f(e.unref(r).artList,(t,o,i)=>({a:t,b:e.o(v=>_(t),o),c:o}))}):{},{P:e.unref(r).artList?"":1,Q:e.t(e.unref(r).cardName),R:e.t(e.unref(r).ename),S:!/^(基本).*?(能量)$/.test(e.unref(r).cardName)},/^(基本).*?(能量)$/.test(e.unref(r).cardName)?{}:{T:e.f(e.unref(r).skillList,(t,o,i)=>e.e({a:!/太晶/g.test(t.name)&&!/规则/g.test(t.name)&&!/ACE /g.test(t.name)},!/太晶/g.test(t.name)&&!/规则/g.test(t.name)&&!/ACE /g.test(t.name)?{b:e.t(t.name),c:/太晶/g.test(t.name)?1:"",d:/特性/g.test(t.name)?1:"",e:/规则/g.test(t.name)?1:"",f:/VSTAR力量/g.test(t.name)?1:"",g:e.t(t.effect==""?"-":t.effect)}:{},{h:t.name}))},{U:e.f(e.unref(r).skillRule,(t,o,i)=>({a:e.t(t.name),b:/太晶/g.test(t.name)?1:"",c:/规则/g.test(t.name)?1:"",d:/ACE /g.test(t.name)?1:"",e:e.t(t.effect==""?"-":t.effect),f:t.name})),V:e.o(t=>e.isRef(g)?g.value=!1:g=!1),W:e.unref(g)?1:""}):{})}},M=e._export_sfc(q,[["__scopeId","data-v-e96997eb"],["__file","/Users/kaws-mac/Desktop/unidemo/subpackagesPtcg/pages/seriesDet/index.vue"]]);wx.createPage(M);
