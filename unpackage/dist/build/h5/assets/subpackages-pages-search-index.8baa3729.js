import{r as e,o as s,p as a,q as l,_ as t,a as i,c as n,e as r,u as c,b as o,t as _,i as u,F as m,f as d,v as p,m as g,g as k,h as S,y as v,z as f,I as h,k as j,A as b}from"./index-5aef285e.js";import{_ as E,e as D,a as V}from"./index.2722961b.js";import{s as L}from"./seriesList.2ad1421f.js";import{_ as I,c as R}from"./index.59043243.js";const T=I({__name:"index",setup(I){let T=[],y=0,A=e(null),w=e([]),O=e(""),P=e(!1),C=e(null);s((e=>{A.value=decodeURIComponent(e.searchinp),x()}));const x=async()=>{y=0,T=[],w.value=[],O.value="",a({title:"加载中",mask:!0}),await U(),setTimeout((function(){l()}),1500)},U=async()=>{const e=await t((()=>import("./subpackages-pages-search-json-SV-series.e987a3bd.js")),[]),s=await t((()=>import("./subpackages-pages-search-json-SS-series.8232ab28.js")),[]);let a=e.default,l=s.default,i=[];for(let t of a){-1!=`${t.name} ${t.ename.toLowerCase()}`.search(A.value.toLowerCase())&&i.push({name:t.name,series:t.series})}for(let t of l){-1!=`${t.name} ${t.ename.toLowerCase()}`.search(A.value.toLowerCase())&&i.push({name:t.name,series:t.series})}0==i.length?w.value=[]:F(i)},F=e=>{var s;let a={};for(let l of e)a[l.series]||(a[l.series]=[]),a[l.series].push(l.name);for(let l of L)if((null==(s=a[l])?void 0:s.length)>0)switch(l){case"SV4":t((()=>import("./subpackages-pages-seriesDet-json-SV4.bfa5dbaf.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SV3_5":t((()=>import("./subpackages-pages-seriesDet-json-SV3_5.cf409905.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SV3":t((()=>import("./subpackages-pages-seriesDet-json-SV3.678bfcba.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SV2":t((()=>import("./subpackages-pages-seriesDet-json-SV2.f2886d38.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SV1":t((()=>import("./subpackages-pages-seriesDet-json-SV1.8901e7ab.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS12_5":t((()=>import("./subpackages-pages-seriesDet-json-SS12_5.2372cb44.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS12":t((()=>import("./subpackages-pages-seriesDet-json-SS12.8194e765.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS11":t((()=>import("./subpackages-pages-seriesDet-json-SS11.fcac839f.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS10_5":t((()=>import("./subpackages-pages-seriesDet-json-SS10_5.106dbbd3.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS10":t((()=>import("./subpackages-pages-seriesDet-json-SS10.9df3841a.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS9":t((()=>import("./subpackages-pages-seriesDet-json-SS9.35ed76c9.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS8":t((()=>import("./subpackages-pages-seriesDet-json-SS8.0311d26d.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS7_5":t((()=>import("./subpackages-pages-seriesDet-json-SS7_5.ce669119.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS7":t((()=>import("./subpackages-pages-seriesDet-json-SS7.e8226bc9.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS6":t((()=>import("./subpackages-pages-seriesDet-json-SS6.a56d82b9.js")),[]).then((e=>{$(e.default,a[l])}));break;case"SS5":t((()=>import("./subpackages-pages-seriesDet-json-SS5.0c6713c6.js")),[]).then((e=>{$(e.default,a[l])}))}},$=(e,s,a)=>{let l=e.filter((e=>s.includes(e.cardName)));y+=l.length,T=[...T,...l],y==T.length&&(w.value=T)},z=()=>{""!=O.value?(v&&v({scrollTop:0}),A.value=O.value,x()):S({title:"请输入卡名",icon:"none",duration:2e3})},N=e=>{C.value.showImg=e};return(e,s)=>{const a=f(b("page-meta"),V),l=h,t=j;return i(),n(m,null,[r(a,{"page-style":"overflow: "+(1==c(P)?"hidden":"")},null,8,["page-style"]),o("div",{class:"fctrl"},[o("div",{class:"info"},[o("div",null,"检索结果"),o("div",null,"共"+_(c(w).length)+"张",1)]),o("div",{class:"search"},[r(l,{type:"text",modelValue:c(O),"onUpdate:modelValue":s[0]||(s[0]=e=>u(O)?O.value=e:O=e),placeholder:"请输入卡名(支持简中、英文)"},null,8,["modelValue"]),o("div",{class:"bn",onClick:z},"检索")])]),c(w).length>0?(i(),n("div",{key:0,class:"list"},[(i(!0),n(m,null,d(c(w),(e=>{var s;return i(),n("div",{key:e.id,class:"item",onClick:s=>(e=>{e.skillRule=e.skillList.filter((e=>/太晶/g.test(e.name)||/规则/g.test(e.name))),C.value=e,C.value.showImg=C.value.imgUrl,P.value=!0})(e)},[o("div",{class:"picwp"},[r(t,{src:E,mode:"widthFix",class:"cback"}),r(t,{src:e.imgUrl,"lazy-load":"",mode:"heightFix",class:"img"},null,8,["src"]),o("div",{class:"series"},_(e.series)+_((null==(s=null==e?void 0:e.artList)?void 0:s.length)>0?`|${e.artList.length}`:""),1)]),o("div",null,_(e.cardName),1),o("div",null,_(e.ename),1)],8,["onClick"])})),128))])):(i(),p(D,{key:1})),r(R),c(P)?(i(),n("div",{key:2,class:"popups"},[o("div",{class:g(["p-showcard",{animate__zoomIn:c(P)}])},[o("div",{class:g(["cardShow",{tc:!c(C).artList}])},[r(t,{src:c(C).showImg,mode:"scaleToFill",class:"img"},null,8,["src"]),c(C).enImgUrl&&!c(C).isHide?(i(),n("div",{key:0,class:"artList"},[r(t,{src:c(C).imgUrl,"lazy-load":"",mode:"widthFix",class:"img",onClick:s[1]||(s[1]=e=>N(c(C).imgUrl))},null,8,["src"]),1!=c(C).isHide?(i(),p(t,{key:0,src:c(C).enImgUrl,"lazy-load":"",mode:"widthFix",class:"img",onClick:s[2]||(s[2]=e=>N(c(C).enImgUrl))},null,8,["src"])):k("",!0),(i(!0),n(m,null,d(c(C).artList,((e,s)=>(i(),p(t,{key:s,src:e,mode:"widthFix",class:"img",onClick:s=>N(e)},null,8,["src","onClick"])))),128))])):k("",!0)],2),o("div",{class:"detInfo"},[o("div",{class:"name"},_(c(C).cardName),1),o("div",{class:"name"},_(c(C).ename),1),/^(基本).*?(能量)$/.test(c(C).cardName)?k("",!0):(i(),n("div",{key:0,class:"skill"},[(i(!0),n(m,null,d(c(C).skillList,(e=>(i(),n(m,{key:e.name},[/太晶/g.test(e.name)||/规则/g.test(e.name)?k("",!0):(i(),n("div",{key:0,class:"item"},[o("div",{class:g(["sname",{tera:/太晶/g.test(e.name),ability:/特性/g.test(e.name),grule:/规则/g.test(e.name),vstar:/VSTAR力量/g.test(e.name)}])},_(e.name),3),o("div",{class:"sdet"},_(""==e.effect?"-":e.effect),1)]))],64)))),128))])),o("div",{class:"skill rule"},[(i(!0),n(m,null,d(c(C).skillRule,(e=>(i(),n("div",{class:"item",key:e.name},[o("div",{class:g(["sname",{tera:/太晶/g.test(e.name),grule:/规则/g.test(e.name)}])},_(e.name),3),o("div",{class:"sdet"},_(""==e.effect?"-":e.effect),1)])))),128))])]),o("div",{class:"close",onClick:s[3]||(s[3]=e=>u(P)?P.value=!1:P=!1)},"关闭")],2)])):k("",!0)],64)}}},[["__scopeId","data-v-2023c51a"]]);export{T as default};
